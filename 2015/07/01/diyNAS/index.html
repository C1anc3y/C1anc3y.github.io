<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>低成本打造NAS | debug.cool</title><meta name="description" content="在CQUPT的日常，除了上课和打比赛，还业余兼职代码搬砖工，靠着卖代码攒了点钱换个好一点的笔记本(游戏本)，以前的那台破笔记本的硬盘怎么处理呢，卖废品？还是买的材料强化+15一下，改装成NAS废物利用吧，刚好各大网盘非会员限速，太难搞了。"><meta property="og:type" content="article"><meta property="og:title" content="低成本打造NAS"><meta property="og:url" content="http://debug.cool/2015/07/01/diyNAS/index.html"><meta property="og:site_name" content="Kirk"><meta property="og:description" content="在CQUPT的日常，除了上课和打比赛，还业余兼职代码搬砖工，靠着卖代码攒了点钱换个好一点的笔记本(游戏本)，以前的那台破笔记本的硬盘怎么处理呢，卖废品？还是买的材料强化+15一下，改装成NAS废物利用吧，刚好各大网盘非会员限速，太难搞了。"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://debug.cool/images/nas001.png"><meta property="og:image" content="http://debug.cool/images/nas002.png"><meta property="og:image" content="http://debug.cool/images/nas003.png"><meta property="og:image" content="http://debug.cool/images/nas004.png"><meta property="og:image" content="http://debug.cool/images/nas005.png"><meta property="og:image" content="http://debug.cool/images/nas006.png"><meta property="og:image" content="http://debug.cool/images/nas007.png"><meta property="og:image" content="http://debug.cool/images/nas011.png"><meta property="og:image" content="http://debug.cool/images/nas012.png"><meta property="og:image" content="http://debug.cool/images/nas013.png"><meta property="og:image" content="http://debug.cool/images/nas014.png"><meta property="og:image" content="http://debug.cool/images/nas015.png"><meta property="og:image" content="http://debug.cool/images/nas016.png"><meta property="og:image" content="http://debug.cool/images/nas017.png"><meta property="og:image" content="http://debug.cool/images/nas018.png"><meta property="og:image" content="http://debug.cool/images/nas019.png"><meta property="og:image" content="http://debug.cool/images/nas0101.png"><meta property="og:image" content="http://debug.cool/images/nas0102.png"><meta property="og:image" content="http://debug.cool/images/nas0103.png"><meta property="og:image" content="http://debug.cool/images/nas0104.png"><meta property="og:image" content="http://debug.cool/images/nas0105.png"><meta property="og:image" content="http://debug.cool/images/nas0106.png"><meta property="og:image" content="http://debug.cool/images/nas0107.png"><meta property="og:image" content="http://debug.cool/images/nas0108.png"><meta property="og:image" content="http://debug.cool/images/nas0109.png"><meta property="og:image" content="http://debug.cool/images/nas0120.png"><meta property="og:image" content="http://debug.cool/images/nas0121.png"><meta property="og:image" content="http://debug.cool/images/nas0122.png"><meta property="article:published_time" content="2015-07-01T07:44:00.000Z"><meta property="article:modified_time" content="2022-11-15T14:34:20.416Z"><meta property="article:author" content="C1anc3y"><meta property="article:tag" content="笔记"><meta property="article:tag" content="NAS"><meta property="article:tag" content="DIY"><meta property="article:tag" content="家庭NAS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://debug.cool/images/nas001.png"><link rel="canonical" href="http://debug.cool/2015/07/01/diyNAS/index.html"><link rel="alternate" href="/atom.xml" title="Kirk" type="application/atom+xml"><link rel="icon" href="/avatar.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-vs.css" type="text/css"></head><body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="/" target="_blank"><img class="img-circle img-rotate" src="/avatar.png" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">Kirk</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">用心若镜，不将不迎。</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shanghai, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form" method="GET" action="https://www.baidu.com/s?"><div class="input-group"><input name="wd" type="text" class="form-control search-form-input" placeholder="Search"> <span class="input-group-btn"><button type="submit" class="btn btn-flat search-form-submit"><i class="icon icon-search"></i></button></span></div></form></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">Home</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">Archives</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">Categories</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">Tags</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">Repository</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">Links</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">About</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/C1anc3y" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">Board</h3><div class="widget-body"><div id="board"><div class="content"><p>来路坦荡，去路明亮，永远自由勇敢。</p></div></div></div></div><div class="widget"><h3 class="widget-title">Tag Cloud</h3><div class="widget-body tagcloud"><a href="/tags/DIY/" style="font-size:13px">DIY</a> <a href="/tags/Future-Politics/" style="font-size:13px">Future Politics</a> <a href="/tags/Kafka/" style="font-size:13px">Kafka</a> <a href="/tags/Matplotlib/" style="font-size:13px">Matplotlib</a> <a href="/tags/NAS/" style="font-size:13px">NAS</a> <a href="/tags/Nginx/" style="font-size:13px">Nginx</a> <a href="/tags/PHP/" style="font-size:13px">PHP</a> <a href="/tags/Python/" style="font-size:13.5px">Python</a> <a href="/tags/Ubuntu/" style="font-size:13px">Ubuntu</a> <a href="/tags/WSL/" style="font-size:13px">WSL</a> <a href="/tags/Windows10/" style="font-size:13px">Windows10</a> <a href="/tags/%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D/" style="font-size:13px">任务分配</a> <a href="/tags/%E5%86%85%E6%A0%B8/" style="font-size:13px">内核</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size:13px">命令行</a> <a href="/tags/%E5%AE%B6%E5%BA%ADNAS/" style="font-size:13px">家庭NAS</a> <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size:13px">小技巧</a> <a href="/tags/%E6%95%B0%E4%BB%93/" style="font-size:13px">数仓</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" style="font-size:13px">数据存储</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%B9%96/" style="font-size:13px">数据湖</a> <a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size:13px">汇编</a> <a href="/tags/%E7%8A%B6%E6%80%81%E6%9C%BA/" style="font-size:13px">状态机</a> <a href="/tags/%E7%A0%94%E5%8F%91/" style="font-size:14px">研发</a> <a href="/tags/%E7%A0%B4%E8%A7%A3/" style="font-size:13px">破解</a> <a href="/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/" style="font-size:13.25px">碎碎念</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size:13.75px">笔记</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:13.25px">算法</a> <a href="/tags/%E7%BB%B4%E4%BF%AE/" style="font-size:13px">维修</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" style="font-size:13.25px">网络安全</a> <a href="/tags/%E8%82%A1%E7%A5%A8/" style="font-size:13px">股票</a> <a href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E7%89%88/" style="font-size:13px">自定义模版</a> <a href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size:13px">自定义表达式</a> <a href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E8%A7%A3%E6%9E%90/" style="font-size:13px">自然语言解析</a> <a href="/tags/%E8%AF%BB%E5%90%8E%E6%84%9F/" style="font-size:13px">读后感</a> <a href="/tags/%E9%80%86%E5%90%91/" style="font-size:13px">逆向</a></div></div><div class="widget"><h3 class="widget-title">Archive</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">Recent Posts</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2022/03/28/noteFuturePolitics/" class="title">《算法的力量》读后感</a></p><p class="item-date"><time datetime="2022-03-28T10:44:00.000Z" itemprop="datePublished">2022-03-28</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a></p><p class="item-title"><a href="/2021/08/08/tiObservationProblem/" class="title">威胁情报-观测问题</a></p><p class="item-date"><time datetime="2021-08-08T07:44:00.000Z" itemprop="datePublished">2021-08-08</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2021/01/20/tipsWSL/" class="title">Windows10下WSL开发环境搭建</a></p><p class="item-date"><time datetime="2021-01-20T14:44:00.000Z" itemprop="datePublished">2021-01-20</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%A0%94%E5%8F%91/">研发</a></p><p class="item-title"><a href="/2020/12/09/devDiyExpress/" class="title">DiyExpress - 自定义表达式计算引擎</a></p><p class="item-date"><time datetime="2020-12-08T16:00:00.000Z" itemprop="datePublished">2020-12-09</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></p><p class="item-title"><a href="/2020/03/15/tipsDoubleSystem/" class="title">Window10下双系统grub修复</a></p><p class="item-date"><time datetime="2020-03-15T15:10:00.000Z" itemprop="datePublished">2020-03-15</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">Catalogue</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#nas%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">NAS是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">硬件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9D%BF"><span class="toc-number">2.1.</span> <span class="toc-text">主板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%BA%E7%AE%B1%E7%94%B5%E6%BA%90"><span class="toc-number">2.2.</span> <span class="toc-text">机箱+电源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E7%9B%98"><span class="toc-number">2.3.</span> <span class="toc-text">硬盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E8%A3%85%E5%B7%A5%E4%BD%9C"><span class="toc-number">2.4.</span> <span class="toc-text">组装工作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">软件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%90%E6%96%99"><span class="toc-number">3.1.</span> <span class="toc-text">材料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.2.</span> <span class="toc-text">步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u%E7%9B%98%E5%BC%95%E5%AF%BC%E6%96%87%E4%BB%B6%E5%88%B6%E4%BD%9C%E4%BB%A5%E5%AE%89%E8%A3%8561%E7%89%88%E6%9C%AC%E7%BE%A4%E6%99%96%E4%B8%BA%E4%BE%8B"><span class="toc-number">3.3.</span> <span class="toc-text">U盘引导文件制作（以安装6.1版本群晖为例）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%80%E9%9C%80%E6%96%87%E4%BB%B6-%E8%BD%AF%E4%BB%B6"><span class="toc-number">3.4.</span> <span class="toc-text">所需文件、软件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95u%E7%9B%98-pidvid%E5%8F%82%E6%95%B0"><span class="toc-number">3.4.1.</span> <span class="toc-text">记录U盘 PID&#x2F;VID参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9img-%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6%E5%BC%95%E5%AF%BC%E6%96%87%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">修改Img 镜像文件（引导文件）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%AF%BC%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5u%E7%9B%98"><span class="toc-number">3.5.1.</span> <span class="toc-text">引导文件写入U盘</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dsm-%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">3.6.</span> <span class="toc-text">DSM 系统的安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-diyNAS" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">低成本打造NAS</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2015/07/01/diyNAS/" class="article-date"><time datetime="2015-07-01T07:44:00.000Z" itemprop="datePublished">2015-07-01</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/DIY/" rel="tag">DIY</a>, <a class="article-tag-link-link" href="/tags/NAS/" rel="tag">NAS</a>, <a class="article-tag-link-link" href="/tags/%E5%AE%B6%E5%BA%ADNAS/" rel="tag">家庭NAS</a>, <a class="article-tag-link-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2015/07/01/diyNAS/#comments" class="article-comment-link">Comments</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 2.6k(words)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">Read Count: 9(minutes)</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><p>在<code>CQUPT</code>的日常，除了上课和打比赛，还业余兼职代码搬砖工，靠着卖代码攒了点钱换个好一点的笔记本(游戏本)，以前的那台破笔记本的硬盘怎么处理呢，卖废品？还是买的材料<code>强化+15</code>一下，改装成<code>NAS</code>废物利用吧，刚好各大网盘非会员限速，太难搞了。</p><span id="more"></span><p>本着能(没)省(钱)就(装)省(逼)的原则，本次<code>DIY</code>黑群的硬件均来自某鱼二手，历经一两个月的采购，终于备齐了黑群所有的硬件。</p><h2 id="nas是什么"><a class="markdownIt-Anchor" href="#nas是什么"></a> NAS是什么？</h2><p>来自维基百科： 即网络连接存储设备（<code>Network Attached Storage，NAS</code>）是一种专门的数据存储技术的名称，它可以直接连接在电脑网络上面，对不同平台的网络用户提供了集中式数据访问服务。<br><code>NAS</code>和传统的文件存储服务或直接存储设备不同的地方，在于<code>NAS</code>设备上面的操作系统和软件只提供了数据存储、数据访问、以及相关的管理功能；此外，<code>NAS</code>设备也提供了不止一种文件传输协议。<code>NAS</code>系统通常有一个以上的硬盘，而且和传统的文件服务器一样，通常会把它们组成RAID来提供服务；有了<code>NAS</code>以后，网络上的其他服务器就可以不必再兼任文件服务器的功能。<code>NAS</code>的型式很多样化，可以是一个大量生产的嵌入式设备，也可以在一般的电脑上运行<code>NAS</code>的软件。<br><img src="/images/nas001.png" alt="NAS intro"></p><p>简而言之，就是一台电脑，运行特定的文件管理软件，使之在局域网内甚至互联网中，供指定用户进行文件的访问与存贮，它的特点是：<code>7 * 24 小时运转，静音，且低功耗</code>。</p><p>所以，<code>Intel B85</code>，<code>P61</code>，<code>推土机FX</code>等一众高功耗的平台就没考虑了，虽然性能没得说，可是…真的没必要，一个月下来，电费都有得交，不划算。</p><h2 id="硬件"><a class="markdownIt-Anchor" href="#硬件"></a> 硬件</h2><h3 id="主板"><a class="markdownIt-Anchor" href="#主板"></a> 主板</h3><p>技嘉E350<br><img src="/images/nas002.png" alt="技嘉E350"><br>某鱼<code>220</code>到手，估约着<code>8成新</code>吧，包装盒说明书光盘和背板都在。，四个<code>SATA3</code>，<code>AMD E-350 1.6GHz双核</code>，硬解<code>1080P</code>视频完全没问题，一个千兆网口，最大功耗<code>36W</code>，8个<code>USB2.0</code>，2个<code>USB3.0</code>，卖家还送了条<code>4G DDR3 1333</code>金士顿内存。这价格…还要啥自行车？真是好卖家呀，感激ing…</p><h3 id="机箱电源"><a class="markdownIt-Anchor" href="#机箱电源"></a> 机箱+电源</h3><p>惠普小机箱+原装电源<br><img src="/images/nas003.png" alt="惠普小机箱+原装电源"><br>（图上主板是卖家的图，实际上只有机箱和原装电源）</p><p><img src="/images/nas004.png" alt="惠普小机箱+原装电源"><br>机箱+电源，某鱼50块到手，同城自取的。不得不说，惠普原装电源质量还是很不错的，功率<code>220W</code>，也足够<code>NAS</code>用来，虽然不是主动式、不过…没所谓了，加上硬盘，整机功耗估计也超不过<code>50W</code>，这小主机原来是用在惠普台式桌面电脑的，估计也有<code>4-5</code>个年头了吧。</p><h3 id="硬盘"><a class="markdownIt-Anchor" href="#硬盘"></a> 硬盘</h3><p><img src="/images/nas005.png" alt="硬盘"><br>硬盘用的是两块东芝<code>3T</code>机械盘，<code>SATA3</code>，<code>7200转/64M</code>，<code>NAS</code>专用盘太贵，凑合着用吧。另外还加了一块<code>16G</code>固态，用作<code>NAS</code>里安装各种套件用，如<code>Docker PhotoStation</code>,<code>VideoStation</code>等等，或许对运行起来有更快一些吧。</p><h3 id="组装工作"><a class="markdownIt-Anchor" href="#组装工作"></a> 组装工作</h3><p>按照电脑装机的方法装进去就行，没啥好说的，注意理线，做好通风散热。上一张图片看看效果<br><img src="/images/nas006.png" alt="组装"></p><p>拍的时候正在安装调试，没有整理，线比较乱，1处是两块<code>3T</code> <code>HDD</code>，2处是一块<code>16G SSD</code>。后面又加了个超频三的散热风扇，因为原装的机箱扇热实在太吵了，某东15.9到手，另外加10M超五类网线18.9。</p><p><img src="/images/nas007.png" alt="组装"></p><h2 id="软件"><a class="markdownIt-Anchor" href="#软件"></a> 软件</h2><p><img src="/images/nas011.png" alt="soft"></p><p>软件部分主要讲黑群晖的安装（<code>DSM</code>系统的部署），硬盘的添加，<code>DDNS</code>设置，<code>DNSpod</code>相关设置，为<code>NAS</code>添加<code>SSL</code>证书等等。<br>PS:洗白就算了吧，据我所知一家之言，误，目前群晖官方基本已全线封锁了洗白的途径。老实用黑群也是一样的。用自有域名远程访问速度也很快，还能装X…(笑</p><p>注意！注意！注意 实现自有域名远程访问的前提是：拥有公网IP！</p><p>对于这个问题，电信用户就很舒服了，致电客服，跟她要一个公网IP就行，理由就说：家里有小孩，需要安装监控，需要远程办公balabala…一般情况下都会给你开通的，开通之后会有专门的工作人员打电话与你确认，确认之后，拔掉路由器电源，稍等个5分钟再插上，你就是公网<code>IP</code>了。联通部分地区会给，有的地区也是不给的。至于移动宽带用户…别哭了，哭也没用，讲破喉咙客服也不会开的，因为移动网本身就是一个“局域网”，除非花高价钱买一个固定<code>IP</code>…还是去用花生壳或者<code>3322.org</code>，也可以用自有<code>域名+VPS</code>，使用<code>frp</code>或者<code>Ngrok</code>实现内网穿透。也是个方法，只不过实施起来会复杂一些罢了，有空再写一篇这个教程吧 =_=</p><h3 id="材料"><a class="markdownIt-Anchor" href="#材料"></a> 材料</h3><ul><li>U盘/SD卡（读卡器）</li><li>顶级域名（小众域名也可以）</li><li>DNSpod 账号</li><li>域名对应的SSL证书（TrustAsia TLS RSA CA证书）怎么申请？自行百度。</li><li>黑群晖主机 怎么制作？往前查看硬件章节部分</li><li>网线、交换机、路由、等其他。<br>注意！注意！注意！申请<code>SSL</code>证书的前提是，你的顶级域名已经经过<code>ICP</code>备案（当然，用<code>AlphaSSL</code> 野卡也是可以的）~</li></ul><h3 id="步骤"><a class="markdownIt-Anchor" href="#步骤"></a> 步骤</h3><p>这可能会很长，所以我打算分成四个部分来讲：</p><ul><li>U盘引导文件制作</li><li>DSM系统的部署（黑群晖系统的安装）</li><li>自有域名+DNSpod实现远程访问黑群</li><li>给你的NAS加个保护伞——远程访问上HTTPS</li></ul><h3 id="u盘引导文件制作以安装61版本群晖为例"><a class="markdownIt-Anchor" href="#u盘引导文件制作以安装61版本群晖为例"></a> U盘引导文件制作（以安装6.1版本群晖为例）</h3><p>部署之前，需要说明一下：DSM系统的加载方式；DSM系统采用系统和数据相分离的方式，所以DSM的引导系统需要一个独立的引导设备，可以是U盘、SD卡，或者SSD硬盘。而数据安装在另外的数据盘上，一般是HDD硬盘，当然也可以是大容量SSD，如果你有钱的话…</p><p>一般情况下，大都是用U盘或者SD卡，进行引导启动，容量不需要多大，4G绰绰有余，用8G/16G来做就有点浪费了。至于存储用的容量盘，容量越大越好，推荐NAS专用盘，当然，普通台式机硬盘也可以。</p><h3 id="所需文件-软件"><a class="markdownIt-Anchor" href="#所需文件-软件"></a> 所需文件、软件</h3><p>芯片无忧<br><code>OSFMount</code>虚拟光驱软件x64<br>U盘制作软件<code>Win32_Disk_Imager</code><br>镜像文件 <code>synoboot.img</code><br>安装文件 <code>DSM_DS3617xs_15101.pat</code><br>群晖助手<code>SynologyAssistant.exe</code></p><h4 id="记录u盘-pidvid参数"><a class="markdownIt-Anchor" href="#记录u盘-pidvid参数"></a> 记录U盘 PID/VID参数</h4><p>打开芯片无忧软件，记录U盘<code>PID/VID</code></p><p><img src="/images/nas012.png" alt="soft"></p><p>如上图，我的闪迪U盘的<code>VID=13FE</code>,<code>PID=5500</code>，每个设备都是不一样的，切勿按照我的填写。</p><h3 id="修改img-镜像文件引导文件"><a class="markdownIt-Anchor" href="#修改img-镜像文件引导文件"></a> 修改Img 镜像文件（引导文件）</h3><p>安装并打开osfmount软件，加载镜像文件</p><p><img src="/images/nas013.png" alt="soft"></p><p>选择第二项<code>Partition 0 —— OK</code></p><p><img src="/images/nas014.png" alt="soft"></p><p>取消勾选 <code>Read Only-drive —— OK</code></p><p><img src="/images/nas015.png" alt="soft"></p><p>双击打开该镜像文件——打开<code>grub</code>文件夹——选择 <code>grub.cfg</code>——右键使用文本编辑工具打开（<code>NotePad++/Subline</code>）<br><img src="/images/nas016.png" alt="soft"></p><p>将图上<code>VID/PID</code>参数改为自己U盘对应的参数。比如我的<code>VID=0x13FE</code>、<code>PID=0x5500</code><br>注：图上<code>SN</code>码，和MAC地址需要特殊算号器和宏文件算出，目前所有的在线算号器均已失效，按照某论坛大神的说法，现在洗白需要有一台白群晖来做引导，涉及群晖洗白问题，这里不做过多赘述，其实不洗白也是一样的，别用那个<code>Quickconnect</code>服务就是了，非要洗白，请自行搜索相关教程。</p><p>最后保存更改之后的镜像引导文件；<br><img src="/images/nas017.png" alt="soft"></p><h4 id="引导文件写入u盘"><a class="markdownIt-Anchor" href="#引导文件写入u盘"></a> 引导文件写入U盘</h4><p>下载并安装<code>Win32DiskImager</code>，插上U盘，打开该软件，选择刚才修改过的Img镜像文件<br><img src="/images/nas018.png" alt="soft"></p><p>注意：用该软件制作启动盘，会将U盘格式化，并且<code>windows</code>平台无法读取，因为是<code>Linux</code>格式，请先备份资料。<br><img src="/images/nas019.png" alt="soft"></p><p>大约1分钟就能制作完成<br><img src="/images/nas0101.png" alt="soft"></p><p>制作好了时候，插入黑群晖主机</p><p>安装群晖之前，先在内网一台PC上安装群晖助手 <code>Synology Assistant</code>（注：黑群和PC连接同一个交换机/路由，建议还是一同直连路由器）<br><img src="/images/nas0102.png" alt="soft"></p><p>安装好了之后，再进入黑群主板<code>BIOS</code>，设置为U盘启动，不同主板设置方式不一样，请自行搜索相关设置方法。<br>注意：群晖<code>DSM6.x</code> 系统之后，要求主板必须支持<code>UEFI</code> 方式启动，所以…老主板还是建议安装5.2系统~</p><p>设置好了时候，检查一下线路，确保网线，交换机，路由器，都能正常连接，且能连接互联网（误），黑群晖主机接上显示器，和键鼠</p><h3 id="dsm-系统的安装"><a class="markdownIt-Anchor" href="#dsm-系统的安装"></a> DSM 系统的安装</h3><p>插入制作好的U盘，开机…选择第二项…回车<br><img src="/images/nas0103.png" alt="soft"></p><p>然后开始进入引导，会显示一连串的[OK]，出现下列画面说明引导成功<br><img src="/images/nas0104.png" alt="soft"></p><p>接着打开局域网内PC上的群晖助手，点击“搜索”，就能找到刚刚安装的群晖<br><img src="/images/nas0105.png" alt="soft"></p><p>右键“安装”<br><img src="/images/nas0106.png" alt="soft"></p><p>选择下载的 <code>.pat</code>安装文件<br><img src="/images/nas0107.png" alt="soft"></p><p>设置管理员和网络（注意：网关地址一定要与路由器上的网关一致，否则局域网内将无法找到群晖！）<br><img src="/images/nas0108.png" alt="soft"><br><img src="/images/nas0109.png" alt="soft"></p><p>设置完了就开始安装了，大概十几分钟吧，我的用了将近18分钟才装完，可能是APU太渣吧<br><img src="/images/nas0120.png" alt="soft"></p><p>安装完成~<br><img src="/images/nas0121.png" alt="soft"></p><p>取消自动更新，或者设置为“不自动安装更新，有更新时提醒我”<br><img src="/images/nas0122.png" alt="soft"></p><p>最后~设置初始化硬盘，根据自己需要设置<code>RAID</code> ，这一步会很久很久，我的两个<code>3T</code> <code>HDD</code> + <code>16G</code> <code>SSD</code>,用了10个小时…让它默默的校验去吧，可别断电噢。。。</p><p>至此，黑群晖安装大功告成！</p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>这一套算下来，主板+内存 <code>￥22</code>0，机箱+电源 <code>￥50</code>，风扇<code>￥15.9</code>，10m超五类网线<code>￥18.9</code>，合计<code>￥304.8</code>。这价格能攒个<code>4盘位NAS黑裙</code>，反正我是知足了</p></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://debug.cool/2015/07/01/diyNAS/" title="低成本打造NAS" target="_blank" rel="external">http://debug.cool/2015/07/01/diyNAS/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="/" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/avatar.png" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="/" target="_blank"><span class="text-dark">Kirk</span><small class="ml-1x">用心若镜，不将不迎。</small></a></h3><div>为人治学当有独立之精神，自由之思想。</div></div></figure></div></div></div></article><section id="comments"></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2015/08/14/tipsLinuxCommand/" title="利用多核CPU加速Linux命令"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="Catalogue" role="button"><span>[&nbsp;</span><span>Catalogue</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><div class="bar-right"><div class="share-component" data-sites="weibo,qq,qzone,wechat,douban,diandian,facebook,twitter,google,linkedin" data-mobile-sites="weibo,qq,qzone,wechat,douban,facebook,twitter,linkedin"></div></div></div></nav></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/C1anc3y" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright">&copy; 2023 C1anc3y<div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(t){t(".search-form").on("submit",function(o){var n=t('.search-form-input[name="wd"]').val();return window.location="https://www.baidu.com/s?wd=site:debug.cool "+n,!1})}(jQuery)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script defer type="text/javascript">!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-104610957-2","auto"),ga("send","pageview")</script></body></html>